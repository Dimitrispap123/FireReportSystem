<!DOCTYPE html>
<html lang="en">
<head>
  <title>Register incident</title>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <meta charset="UTF-8">
  <script>
      function back_to_page(){
          window.location.href = "adminpage.html";
      }
   $(document).ready(function() {
    
    $('#deleteIncidentBtn').click(function() {
        var incidentId = $('#incident_id').val();

      
        if (!incidentId) {
            alert('Παρακαλώ εισάγετε το Incident ID.');
            return;
        }

        
        if (confirm("Είστε σίγουροι ότι θέλετε να διαγράψετε αυτό το συμβάν?")) {
         
            $.ajax({
                url: 'http://localhost:8080/359project/DeleteIncident?incident_id=' + incidentId, 
                type: 'DELETE',
                success: function(response) {
                    alert('Το συμβάν διαγράφηκε επιτυχώς!');
                    $('#incident_id').val('');
                },
                error: function(xhr, status, error) {
                    alert('Σφάλμα κατά τη διαγραφή του συμβάντος: ' + error);
                }
            });
        }
    });
});

  </script>
</head>
<body>
     <div class="header" style="padding-right:100px;">
         <button type="button" id="backbut" class="red-button" onclick="back_to_page()" >Back</button>
        <h3 style="padding-right:720px;">Διαγραφή Συμβάντος</h3>

    </div>
    <div class="signup-container" style="margin-top:100px;">
   
      

        <form id="form" class="signup-form">
            <label for="incident_id">Incident ID</label>
            <input type="text" id="incident_id" name="incident_id" placeholder="Εισάγετε το ID" required>
            <button id="deleteIncidentBtn" type="button" class="btn btn-danger">Διαγραφή</button> 
        </form>
        
       
    </div>

</body>
</html>
